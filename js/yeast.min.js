/*!
 * Start Bootstrap - New Age v5.0.8 (https://startbootstrap.com/themes/new-age)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-new-age/blob/master/LICENSE)
 */

function HSLA(t,e,r,a){this.h=t,this.s=e,this.l=r,this.a=0===a?0:a||1}function Particle(){this.x=this.y=0,this.vx=this.vy=0,this.scale=1}function Line(t,e,r){this.pts=[],this.color=t,this.segment=15+15*Math.random(),this.nPts=15+Math.floor(10*Math.random()),this.id=e,this.polars=r,this.ratio=.5+.5*Math.random(),this.ratio=Math.random();for(var a=0;a<this.nPts;a++){var o=new Particle;o.x=2*(2*Math.random()-1)*this.nPts*this.segment,o.y=2*(2*Math.random()-1)*this.nPts*this.segment,this.pts[a]=o}this.pSpeed=.1,this.friction=.99,this.width=4*Math.pow(Math.random(),2)+.5,this.update()}HSLA.prototype={clone:function(){return new HSLA(this.h,this.s,this.l,this.a)},toString:function(){return"hsla("+Math.round((this.h%360+360)%360)+", "+Math.round(this.s)+"%, "+Math.round(this.l)+"%, "+this.a+")"}},Line.prototype={update:function(){var t=this.pts[0],e=this.polars[this.id],r=this.polars[this.id+1];t.x=this.ratio*e*Math.cos(r),t.y=this.ratio*e*Math.sin(r);for(var a=1;a<this.nPts;a++){(t=this.pts[a]).vx+=this.pSpeed*(2*Math.random()-1),t.vy+=this.pSpeed*(2*Math.random()-1),t.vx+=25e-6*t.x,t.vy+=25e-6*t.y,t.vx*=this.friction,t.vy*=this.friction,t.x+=t.vx,t.y+=t.vy;var o=this.pts[a-1],i=o.x-t.x,s=o.y-t.y,n=i*i+s*s;e=this.segment/Math.sqrt(n);t.x=o.x-e*i,t.y=o.y-e*s}},draw:function(t){t.beginPath();var e=this.pts[0];t.moveTo(e.x,e.y);for(var r=1;r<this.nPts-1;r++){e=this.pts[r];var a=this.pts[r+1];t.quadraticCurveTo(e.x,e.y,.5*(e.x+a.x),.5*(e.y+a.y))}t.lineWidth=this.width,t.strokeStyle=this.color,t.stroke()}};var stage=new tools.Stage(700,700),out=stage.out,temp=new tools.Stage(700,700,!1);stage.autoSize(onResize);var nCoords=200,step=2*Math.PI/nCoords;out.lineWidth=2;var radius=150,coords=[],polars=[],particlesFriction=.99,particlesSpeed=.05,particles=[],nParticles=1,radiusBoundaryForce=2e-5,separation=1e-4,hue=360*Math.random(),sat=10,bg=new HSLA(hue,90,2),border1=new HSLA(hue,sat,20,.5),border2=new HSLA(hue,sat,90,.5),cellBg1=new HSLA(hue,sat,0,1),cellBg2=new HSLA(hue,sat,25,1),cellBg=temp.out.createRadialGradient(0,0,0,0,0,2*radius);cellBg.addColorStop(0,cellBg1.toString()),cellBg.addColorStop(1,cellBg2.toString());var particleBg1=new HSLA(hue,sat,20,.8),particleBg2=new HSLA(hue,sat,17),particleBg3=new HSLA(hue,sat,23);mutateColor(particleBg1),mutateColor(particleBg2),mutateColor(particleBg3);for(var microParticlesColor=new HSLA(hue,sat,35),lineColor=new HSLA(hue,sat,90,.2),i=0;i<nParticles;i++){(p=new Particle).size=40*Math.pow(.8/nParticles,4)+5;var a=2*Math.random()*Math.PI,r=Math.random()*radius;p.x=r*Math.cos(a),p.y=r*Math.sin(a),particles[i]=p}var nMicroParticles=300,microParticles=[];for(i=0;i<nMicroParticles;i++){var p;(p=new Particle).x=(2*Math.random()-1)*radius,p.y=(2*Math.random()-1)*radius,microParticles[i]=p}var time=0;generateCoords();var lines=[],nLines=0;for(i=0;i<nLines;i++){var id=2*Math.floor(nCoords*Math.random()),l=new Line(lineColor.toString(),id,polars);lines[i]=l}function update(){Date.now();stage.clear(),temp.clear(),out.fillStyle=bg.toString(),out.fillRect(0,0,stage.width,stage.height),generateCoords(),out.save(),out.translate(.5*stage.width,.5*stage.height),drawOutline(out),out.fillStyle=cellBg,out.fill(),out.restore(),temp.out.save(),temp.out.translate(.5*stage.width,.5*stage.height),drawOutline(temp.out),temp.out.fillStyle=cellBg,temp.out.fill(),updateParticles(),drawParticles(temp.out),out.globalAlpha=.4,out.drawImage(temp.canvas,0,0),temp.out.restore(),out.globalAlpha=1,out.save(),out.translate(.5*stage.width,.5*stage.height),out.strokeStyle=border1.toString(),out.lineWidth=15,drawOutline(out),out.strokeStyle=border2.toString(),out.lineWidth=12,drawOutline(out),out.strokeStyle=border1.toString(),out.lineWidth=5,drawOutline(out),updateLines(out),out.restore(),time+=.05}function drawOutline(t){t.beginPath(),t.moveTo(coords[0],coords[1]);for(var e=1;e<nCoords;e++)t.lineTo(coords[2*e],coords[2*e+1]);t.lineTo(coords[0],coords[1]),t.stroke()}function drawHair(t){t.beginPath(),t.fillStyle=border1.toString(),c=border2.clone(),c.a=.5,t.fillStyle=c.toString();for(var e=0;e<nCoords;e++)if(e%5){var r=2*e,a=coords[r],o=coords[1+r],i=2*(e?e-1:nCoords-1),s=2*(e==nCoords-1?0:e+1),n=a-coords[i],l=o-coords[1+i],h=1/Math.sqrt(n*n+l*l);n*=h,l*=h;var d=a-coords[s],u=o-coords[1+s],p=1/Math.sqrt(d*d+u*u),v=.5*(n+(d*=p)),g=.5*(l+(u*=p)),m=(e%3?.5:1.2)*(0<n*u-d*l?-1:1)*(7+7*(Math.cos(5*e*step+.01*Math.cos(time))+2))/Math.sqrt(v*v+g*g);v*=m,g*=m,t.moveTo(a,o);var y=.2*time+.3*e,M=a+.5*v+.5*v*Math.cos(y),f=o+.5*g+.5*g*Math.sin(y);t.quadraticCurveTo(M,f,a+v,o+g),e%3||t.fillRect(a+v-1.5,o+g-1.5,3,3)}t.strokeStyle=border2.toString(),c=border2.clone(),c.a=.5,t.strokeStyle=c.toString(),t.lineWidth=1,t.stroke()}function updateLines(t){for(var e=0;e<nLines;e++){var r=lines[e];r.update(),r.draw(t)}}function generateCoords(){for(var t=0;t<nCoords;t++){var e=t*step;e+=.1*Math.cos(.01*time+e),e+=.25*Math.cos(.05*time+e);var r=radius;r+=9*Math.cos(5*e+.1*time),r-=9*Math.cos(2*e-.1*time),r+=6*Math.sin(5*e+.02*time),r-=9*Math.sin(2*e-.01*time),r+=6*Math.cos(2*e+.01*time)*Math.sin(5*e+.1*time),r+=6*Math.sin(5*e-.1*time)*Math.sin(e+.1*time),coords[2*t]=r*Math.cos(e),coords[2*t+1]=r*Math.sin(e),polars[2*t]=r,polars[2*t+1]=e}}function updateParticles(){for(var t=0;t<nParticles;t++){(s=particles[t]).vx+=particlesSpeed*(2*Math.random()-1),s.vy+=particlesSpeed*(2*Math.random()-1),s.vx-=radiusBoundaryForce*s.x,s.vy-=radiusBoundaryForce*s.y;for(var e=t+1;e<nParticles;e++){var r=particles[e],a=r.x-s.x,o=r.y-s.y,i=s.size+r.size;a*a+o*o<i*i&&(s.vx-=separation*a,s.vy-=separation*o,r.vx+=separation*a,r.vy+=separation*o)}s.vx*=particlesFriction,s.vy*=particlesFriction,s.x+=s.vx,s.y+=s.vy}for(t=0;t<nMicroParticles;t++){var s;(s=microParticles[t]).vx-=2e-5*s.x,s.vy-=2e-5*s.y,s.vx=.99*s.vx+.1*(2*Math.random()-1),s.vy=.99*s.vy+.1*(2*Math.random()-1),s.x+=s.vx,s.y+=s.vy}}function drawParticles(t){t.save(),t.globalCompositeOperation="source-atop",t.fillStyle=microParticlesColor.toString();for(var e=0;e<nMicroParticles;e++){var r=microParticles[e];t.fillRect(r.x,r.y,2,2)}drawParticlesLayer(t,20,particleBg1),drawParticlesLayer(t,2,particleBg2),drawParticlesLayer(t,0,particleBg3),t.restore()}function drawParticlesLayer(t,e,r){t.beginPath();for(var a=0;a<nParticles;a++){var o=particles[a];t.moveTo(o.x+o.size+e,o.y),t.arc(o.x,o.y,o.size+e,0,2*Math.PI)}t.fillStyle=r.toString(),t.fill()}function onResize(){temp.resize(stage.width,stage.height)}function mutateColor(t){t.h+=50*(2*Math.random()-1)}new tools.Loop(update,this);